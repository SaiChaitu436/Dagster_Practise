# # instance_class: dagster.core.instance.DagsterInstance
# # local_artifact_storage:
# #   base_dir: /opt/dagster/storage
# # compute_logs:
# #   module: dagster.core.storage.compute_log_manager
# #   class: LocalComputeLogManager
# #   config:
# #     base_dir: /opt/dagster/storage/compute_logs
# # run_storage:
# #   module: dagster_postgres.run_storage
# #   class: PostgresRunStorage
# #   config:
# #     postgres_url: postgresql://dagster:dagster@postgres/dagster
# # event_log_storage:
# #   module: dagster_postgres.event_log
# #   class: PostgresEventLogStorage
# #   config:
# #     postgres_url: postgresql://dagster:dagster@postgres/dagster
# # schedule_storage:
# #   module: dagster_postgres.schedule_storage
# #   class: PostgresScheduleStorage
# #   config:
# #     postgres_url: postgresql://dagster:dagster@postgres/dagster

# # run_launcher:
# #   module: dagster_docker
# #   class: DockerRunLauncher

# storage:
#   postgres:
#     postgres_db:
#       username:
#         env: DAGSTER_PG_USERNAME
#       password:
#         env: DAGSTER_PG_PASSWORD
#       hostname:
#         env: DAGSTER_PG_HOST
#       db_name:
#         env: DAGSTER_PG_DB
#       port: 5432

# compute_logs:
#   module: dagster_aws.s3.compute_log_manager
#   class: S3ComputeLogManager
#   config:
#     bucket: "mycorp-dagster-compute-logs"
#     prefix: "dagster-test-"

# local_artifact_storage:
#   module: dagster.core.storage.root
#   class: LocalArtifactStorage
#   config:
#     base_dir: "/opt/dagster/local/"

# run_launcher:
#   module: dagster_docker
#   class: DockerRunLauncher
#   config:
#     env_vars:
#       - DAGSTER_POSTGRES_USER
#       - DAGSTER_POSTGRES_PASSWORD
#       - DAGSTER_POSTGRES_DB
#     container_kwargs:
#       volumes:
#         - /absolute/path/to/local/repo.py:/opt/dagster/app/



run_storage:
  module: dagster_postgres.run_storage
  class: PostgresRunStorage
  config:
    postgres_db:
      username: postgres
      password: demopass
      hostname: dagster-postgres
      db_name: postgres
      port: 5432

event_log_storage:
  module: dagster_postgres.event_log
  class: PostgresEventLogStorage
  config:
    postgres_db:
      username: postgres
      password: demopass
      hostname: dagster-postgres
      db_name: postgres
      port: 5432

schedule_storage:
  module: dagster_postgres.schedule_storage
  class: PostgresScheduleStorage
  config:
    postgres_db:
      username: postgres
      password: demopass
      hostname: dagster-postgres
      db_name: postgres
      port: 5432

run_coordinator:
  module: dagster.core.run_coordinator
  class: QueuedRunCoordinator
  config:
    max_concurrent_runs: 5
    
telemetry:
  enabled: false
nux:
  enabled: false